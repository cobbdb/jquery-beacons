!function(a){var b=!1,c=80,d=window,e=0,f=!1,g=function(){f||(f=!0,h(),a(d).on("scroll.beacon",function(){!b&&f&&(h(),b=window.setTimeout(function(){b=!1},c))}))},h=function(){var b=a(".beacon.beacon-on:near-viewport("+e+")");b.trigger("beacon/activate")};a.fn.beacon=function(a){if("function"==typeof a)this.addClass("beacon beacon-on"),this.on("beacon/activate",a),g();else if("enable"===a)this.filter(".beacon").addClass("beacon-on");else if("disable"===a)this.removeClass("beacon-on");else if("destroy"===a)this.removeClass("beacon beacon-on"),this.off("beacon/activate");else if("object"==typeof a){if(!a.handler)throw Error("Beacon Creation Error: All beacons require a handler.");this.addClass("beacon");var b=this;this.on("beacon/activate",function(){a.handler(),a.runOnce&&b.beacon("destroy")});var c="undefined"==typeof a.enabled?!0:a.enabled;c&&(this.addClass("beacon-on"),g())}return this},a.beacons=function(b){var h=a(".beacon");return"destroy"===b?(f=!1,h.beacon("destroy"),a(d).off("scroll.beacon")):"enable"===b?(h.addClass("beacon-on"),g()):"disable"===b?(h.removeClass("beacon-on"),f=!1,a(d).off("scroll.beacon")):"object"==typeof b&&(e=b.range||e,d=b.context||d,c=b.throttle||c),h}}(jQuery);