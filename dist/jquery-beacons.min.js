!function(a){var b=!1,c=80,d=window,e=0,f=!1,g=function(){h(),f||(f=!0,b=window.setInterval(function(){h(),f||window.clearInterval(b)},c))},h=function(){var b=a(".beacon.beacon-on:near-viewport("+e+")");b.trigger("beacon/activate")};a.fn.beacon=function(b){if("function"==typeof b)this.addClass("beacon beacon-on"),this.on("beacon/activate",b),g();else if("enable"===b)this.filter(".beacon").addClass("beacon-on");else if("disable"===b)this.removeClass("beacon-on");else if("destroy"===b)this.removeClass("beacon beacon-on"),this.off("beacon/activate"),a(".beacon").length||(f=!1);else if("object"==typeof b){if(!b.handler)throw Error("Beacon Creation Error: All beacons require a handler.");this.addClass("beacon");var c=this;this.on("beacon/activate",function(){b.handler(),b.runOnce&&c.beacon("destroy")});var d="undefined"==typeof b.enabled?!0:b.enabled;d&&(this.addClass("beacon-on"),g())}return this},a.beacons=function(b){if("destroy"===b)f=!1,a(".beacon").beacon("destroy");else if("enable"===b)a(".beacon").addClass("beacon-on"),g();else if("disable"===b)a(".beacon").removeClass("beacon-on"),f=!1;else{if("settings"===b)return{range:e,context:d,throttle:c};"object"==typeof b&&(e=b.range||e,d=b.context||d,c=b.throttle||c)}return this}}(jQuery);