!function(a){var b=!1,c=80,d=window,e=0,f=!1,g=function(){f||(b=!0,f=!0,a(d).on("scroll.beacon",function(){if(!b&&f){var d=a(".beacon.beacon-on:near-viewport("+e+")");d.trigger("beacon/activate"),b=window.setTimeout(function(){b=!1},c)}}))};a.fn.beacon=function(b){if(a.isFunction(b)){if(!b)throw Error("Beacon Creation Error: All beacons require a handler.");this.addClass("beacon beacon-on"),this.on("beacon/activate",b),g()}else if("enable"===b)this.filter(".beacon").addClass("beacon-on");else if("disable"===b)this.removeClass("beacon-on");else if("destroy"===b)this.removeClass("beacon beacon-on"),this.off("beacon/activate");else{if(!b.handler)throw Error("Beacon Creation Error: All beacons require a handler.");this.addClass("beacon");var c=b.runOnce||!1;this.on("beacon/activate",function(){b.handler(),c&&this.beacon("destroy")});var d=b.enabled||!0;d&&(this.addClass("beacon-on"),g())}return this},a.beacons=function(b){"destroy"===b?(f=!1,a(".beacon").removeClass("beacon-on beacon").off("beacon/activate"),a(d).off("scroll.beacon")):"enable"===b?(a(".beacon").addClass(".beacon-on"),g()):"disable"===b?(a(".beacon").removeClass(".beacon-on"),f=!1,a(d).off("scroll.beacon")):(e=b.range||e,d=b.context||d,c=b.throttle||c)}}(jQuery);